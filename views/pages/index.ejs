<!DOCTYPE html>
<html>
<head>
  <% include ../partials/header.ejs %>
  <script type="text/jsx">

    $(document).ready(function() {

        function get_url_async(url) {
          return new Promise(function(resolve, reject){
                var req = new XMLHttpRequest();
                req.open('GET', url);
                req.onload = function(){
                    console.log(req);
                    if (req.status === 200) {
                        resolve(req.response);
                    }
                    else {
                        reject(Error(req.statusText));
                    }
                }
                req.onerror = function() {
                    reject(Error('Network Error!'));
                }

                req.send();
          });
        }

        var latest_post_url = 'https://agile-earth-31601.herokuapp.com/api/';
        
        get_url_async(latest_post_url).then(function(response){
            console.log(response);
        }, function(err) {
            console.error('Failure', err);
        });
    });

 /* ReactDOM.render(
    <BlogShowCase latest_blog_entry={response.response}/>, document.getElementById('latest_blog')
  )
  */
  </script>
</head>

<body>
  <% include ../partials/nav.ejs %>
<div class="jumbotron text-center">
    <div class="container">
      <h1> William Widmer's personal website! </h1>
      <p> A place to showcase my work as a software developer. </p>
      <a class="btn btn-lg btn-default" href="https://github.com/wwwidmer"> Github </a>
      <a class="btn btn-lg btn-default" href="https://drive.google.com/open?id=1OdCb9goP0kpfKGHv_MvtffLOgu25YzR8yNv-NHDfD00"> Resume </a>
    </div>
</div>
<div class="container">
  <div id="latest_blog" class=""></div>
</div>
<div class="container">
  <h2> About me </h2>
  <p>Welcome! My name is WW and I built this webpage to showcase some of my technological skills. </p>
  <p>These pages were built with bootstrap, node, and react.</p>
</div>
</body>
</html>
